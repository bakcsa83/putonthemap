<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui">

<composite:interface name="mapViewer">
    <composite:attribute name="map" type="java.lang.Object"/>
</composite:interface>

<composite:implementation>
    <h:outputStylesheet name="openlayers4jsf/ol.css"/>
    <h:outputStylesheet name="openlayers4jsf/olCust.css"/>
    <h:outputScript library="openlayers4jsf" name="ol.js"/>
    <h:outputScript>var circlePng = "#{resource['images:circles.png']}";</h:outputScript>
    <h:outputScript>var mapState = JSON.parse('#{mapController.stateModel.toJSON()}');</h:outputScript>
    <h:outputScript library="openlayers4jsf" name="ol2JsfFunctions.js" target="body"/>
    <div id="map" class="map" style="width: 100%; height: 100%;"/>
    <h:form>
        <p:remoteCommand name="_updateNewContentCoordinates" update="uploadForm:c1"
                         action="#{mapController.updateNewContentCoordinates}"/>
        <p:remoteCommand name="_reportViewState"
                         action="#{mapController.reportMapViewState}"/>
    </h:form>
</composite:implementation>

</html>